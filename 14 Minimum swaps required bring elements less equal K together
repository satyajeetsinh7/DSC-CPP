class Solution {
  public:
    int minSwap(vector<int>& arr, int k) {
        int n = arr.size();
        
        // 1. Count how many elements are <= k
        int good = 0;
        for (int x : arr) {
            if (x <= k) good++;
        }
        
        // If there are 0 or 1 good elements, no swaps needed
        if (good <= 1) return 0;
        
        // 2. Count bad elements (> k) in the first window of size good
        int bad = 0;
        for (int i = 0; i < good; i++) {
            if (arr[i] > k) bad++;
        }
        
        // 3. Slide the window and keep track of minimum bad
        int ans = bad;
        for (int i = good; i < n; i++) {
            // element going out of window
            if (arr[i - good] > k) bad--;
            // element coming into window
            if (arr[i] > k) bad++;
            
            ans = min(ans, bad);
        }
        
        return ans;
    }
};
